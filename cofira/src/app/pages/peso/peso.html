<main class="peso">

          <h1 class="peso__titulo">REGISTRO DE PESO CORPORAL</h1>

          <section class="peso__registro">
                    <article class="peso__card">
                              <h2 class="peso__card-titulo">Registrar peso en total</h2>

                              <form class="peso__formulario" (ngSubmit)="registrarPeso()">
                                        <label class="peso__label" for="inputPeso">Porcentaje de peso corporal
                                                  (%)</label>
                                        <input class="peso__input" id="inputPeso" type="number" min="0" max="100"
                                                  step="0.1" placeholder="Ej: 60.5d" [value]="valorInput()"
                                                  (input)="actualizarValor($event)" />

                                        <button class="peso__boton" type="submit" [disabled]="estaCargando()">
                                                  @if (estaCargando()) {
                                                  Guardando...
                                                  } @else {
                                                  Guardar registro
                                                  }
                                        </button>
                              </form>

                              @if (mensajeExito()) {
                              <p class="peso__mensaje peso__mensaje--exito">{{ mensajeExito() }}</p>
                              }

                              @if (mensajeError()) {
                              <p class="peso__mensaje peso__mensaje--error">{{ mensajeError() }}</p>
                              }
                    </article>
          </section>

          <section class="peso__historial">
                    <h2 class="peso__historial-titulo">Historial últimos 30 días</h2>

                    @if (estaCargando()) {
                    <aside class="peso__cargando">
                              <p>Cargando datos...</p>
                    </aside>
                    } @else if (historialPeso().length === 0) {
                    <aside class="peso__sin-datos">
                              <p class="peso__sin-datos-mensaje">No hay registros de peso.</p>
                              <p class="peso__sin-datos-ayuda">Registra tu peso para ver tu historial aquí.</p>
                    </aside>
                    } @else {
                    <ul class="peso__grid">
                              @for (registro of historialPeso(); track registro.id) {
                              <li class="peso__grid-item">
                                        <app-tarjeta-peso [registro]="registro" />
                              </li>
                              }
                    </ul>
                    }
          </section>

</main>