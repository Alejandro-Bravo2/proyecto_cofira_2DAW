<article class="acceso">

  <header class="acceso__cabecera">
    <h1 class="acceso__titulo">Bienvenido de nuevo</h1>
    <p class="acceso__subtitulo">Inicia sesión para continuar</p>
  </header>

  <form (ngSubmit)="alEnviar()" [formGroup]="formularioLogin" class="acceso__formulario">
    <fieldset class="acceso__grupo-campos">

      <label class="acceso__campo">
        <span aria-hidden="true" class="acceso__campo-icono">
          <svg aria-hidden="true" class="acceso__campo-icono-svg" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
            <path d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" stroke-linecap="round"
                  stroke-linejoin="round"/>
          </svg>
        </span>
        <input
          autocomplete="email"
          class="acceso__entrada"
          formControlName="email"
          placeholder="tu@email.com"
          type="email">
      </label>

      <label class="acceso__campo">
        <span aria-hidden="true" class="acceso__campo-icono">
          <svg aria-hidden="true" class="acceso__campo-icono-svg" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
            <path d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" stroke-linecap="round"
                  stroke-linejoin="round"/>
          </svg>
        </span>
        <input
          [type]="mostrarContrasena() ? 'text' : 'password'"
          autocomplete="current-password"
          class="acceso__entrada acceso__entrada--contrasena"
          formControlName="password"
          placeholder="Tu contraseña">
        <button (click)="alternarContrasena()" aria-label="Mostrar u ocultar contraseña" class="acceso__alternar-contrasena" type="button">
          @if (mostrarContrasena()) {
            <svg aria-hidden="true" class="acceso__alternar-contrasena-svg" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88" stroke-linecap="round"
                    stroke-linejoin="round"/>
            </svg>
          } @else {
            <svg aria-hidden="true" class="acceso__alternar-contrasena-svg" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" stroke-linecap="round"
                    stroke-linejoin="round"/>
              <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          }
        </button>
      </label>

    </fieldset>

    <footer class="acceso__pie">
      <app-button
        [habilitado]="formularioLogin.invalid || estaCargando()"
        tamanio="grande"
        type="submit"
        variante="primario">
        @if (estaCargando()) {
          <span class="acceso__cargando">
            <svg aria-hidden="true" class="acceso__indicador" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M4 12a8 8 0 018-8" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Entrando...
          </span>
        } @else {
          Iniciar sesión
        }
      </app-button>

      <p class="acceso__accion-alternativa">
        ¿No tienes cuenta?
        <a class="acceso__enlace" routerLink="/onboarding">Crear cuenta</a>
      </p>
    </footer>
  </form>

</article>
