@import '../../../../styles/00-settings/css-variables';
@import '../../../../styles/01-tools/mixins';

/* ═══════════════════════════════════════════════════════════════════════════
   HEADER COMPONENT - Minimalista y Fijo
   Cabecera principal con navegación y acciones
   ═══════════════════════════════════════════════════════════════════════════

   TABLA DE CONTENIDOS
   ─────────────────────────────────────────────────────────────────────────────
   1. IMPORTS
   2. BLOCK: Header principal
   3. ELEMENTS
      3.1 Logo
      3.2 Navegación central (desktop)
      3.3 Botones de acción (desktop)
      3.4 Hamburguesa (móvil)
   4. MENU-MOVIL COMPONENT
      4.1 Contenedor principal
      4.2 Overlay
      4.3 Contenido del menú
      4.4 Header del menú
      4.5 Navegación móvil
      4.6 Botones de acción móvil
   5. RESPONSIVE

   ESTRUCTURA BEM
   ─────────────────────────────────────────────────────────────────────────────
   Block:     .header
   Elements:  .header__logo-link, .header__logo, .header__nav, .header__menu,
              .header__link, .header__actions, .header__btn, .header__hamburguesa
   Modifiers: .header__nav--desktop, .header__actions--desktop,
              .header__btn--primary, .header__btn--secondary,
              .header__hamburguesa--abierto

   ═══════════════════════════════════════════════════════════════════════════ */


/* ─────────────────────────────────────────────────────────────────────────────
   2. BLOCK: Header principal - Fijo con transparencia
   ───────────────────────────────────────────────────────────────────────────── */

.header {
  // 1. POSICIONAMIENTO
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: var(--z-header);

  // 2. MODELO DE CAJA
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 4.5rem;
  padding: 0 6rem;
  box-sizing: border-box;

  // 4. VISUAL - Efecto glassmorphism
  @include efecto-glass(rgba(245, 245, 245, 0.85), 12px);
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);

  // RESPONSIVE
  @include responsive-down('xl') {
    padding: 0 3rem;
  }

  @include responsive-down('lg') {
    padding: 0 2rem;
  }

  @include responsive-down('md') {
    height: 4rem;
    padding: 0 1.5rem;
  }
}


/* ─────────────────────────────────────────────────────────────────────────────
   3.1 ELEMENT: Logo
   ───────────────────────────────────────────────────────────────────────────── */

.header__logo-link {
  // 2. MODELO DE CAJA
  display: flex;
  align-items: center;
  flex-shrink: 0;

  // 3. TIPOGRAFÍA
  text-decoration: none;
}

.header__logo {
  // 2. MODELO DE CAJA
  width: 8rem;
  height: 8rem;

  // 5. MISCELÁNEA
  transition: opacity var(--duration-fast) ease;

  &:hover {
    opacity: 0.8;
  }

  @include responsive-down('md') {
    width: 6rem;
    height: 6rem;
  }
}


/* ─────────────────────────────────────────────────────────────────────────────
   3.2 ELEMENT: Navegación central
   ───────────────────────────────────────────────────────────────────────────── */

.header__nav {
  // 1. POSICIONAMIENTO
  position: absolute;
  left: 50%;

  // 5. MISCELÁNEA
  transform: translateX(-50%);
}

.header__nav--desktop {
  @include responsive-down('md') {
    display: none;
  }
}

.header__menu {
  // 2. MODELO DE CAJA
  display: flex;
  align-items: center;
  gap: var(--spacing-size-xxl);
  margin: 0;
  padding: 0;

  // 4. VISUAL
  list-style: none;

  @include responsive-down('lg') {
    gap: var(--spacing-size-xl);
  }
}

.header__link {
  // 1. POSICIONAMIENTO
  position: relative;

  // 2. MODELO DE CAJA
  padding: var(--spacing-size-xss) 0;

  // 3. TIPOGRAFÍA
  font-family: var(--font-primary);
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-medium);
  text-decoration: none;

  // 4. VISUAL
  color: var(--negro-normal);

  // 5. MISCELÁNEA
  transition: color var(--duration-fast) ease;

  // Línea inferior animada
  @include enlace-subrayado-animado(var(--amarillo-normal), 2px);

  &:hover {
    color: var(--negro-dark);
  }


  @include responsive-down('lg') {
    font-size: var(--font-size-sm);
  }
}


/* ─────────────────────────────────────────────────────────────────────────────
   3.3 ELEMENT: Botones de acción
   ───────────────────────────────────────────────────────────────────────────── */

.header__actions {
  // 2. MODELO DE CAJA
  display: flex;
  align-items: center;
  gap: var(--spacing-size-s);
  flex-shrink: 0;
}

.header__actions--desktop {
  @include responsive-down('md') {
    display: none;
  }
}


/* ─────────────────────────────────────────────────────────────────────────────
   3.4 ELEMENT: Hamburguesa (solo móvil)
   ───────────────────────────────────────────────────────────────────────────── */

.header__hamburguesa {
  // 1. POSICIONAMIENTO
  z-index: var(--z-header-controls);

  // 2. MODELO DE CAJA
  display: none;
  flex-direction: column;
  justify-content: space-around;
  width: 1.75rem;
  height: 1.5rem;
  padding: 0;

  // 4. VISUAL
  background: transparent;
  border: none;

  // 5. MISCELÁNEA
  cursor: pointer;

  @include responsive-down('md') {
    display: flex;
  }

}

.header__hamburguesa-linea {
  // 2. MODELO DE CAJA
  width: 100%;
  height: 2px;

  // 4. VISUAL
  background-color: var(--negro-normal);
  border-radius: 2px;

  // 5. MISCELÁNEA
  transform-origin: center;
  transition: transform 0.25s ease, opacity 0.2s ease;
}

// Estado abierto - Animación de la hamburguesa
.header__hamburguesa--abierto .header__hamburguesa-linea:nth-child(1) {
  transform: rotate(45deg) translateY(0.5rem);
}

.header__hamburguesa--abierto .header__hamburguesa-linea:nth-child(2) {
  opacity: 0;
}

.header__hamburguesa--abierto .header__hamburguesa-linea:nth-child(3) {
  transform: rotate(-45deg) translateY(-0.5rem);
}

.header__hamburguesa:hover .header__hamburguesa-linea {
  background-color: var(--amarillo-dark);
}


/* ═══════════════════════════════════════════════════════════════════════════
   4. MENU-MOVIL COMPONENT
   Panel lateral de navegación para dispositivos móviles
   ═══════════════════════════════════════════════════════════════════════════ */

// ─────────────────────────────────────────────────────────────────────────────
// 4.1 Contenedor principal
// ─────────────────────────────────────────────────────────────────────────────
.menu-movil {
  // 1. POSICIONAMIENTO
  position: fixed;
  top: 0;
  left: 0;
  z-index: var(--z-modal);

  // 2. MODELO DE CAJA
  width: 100%;
  height: 100vh;

  // 4. VISUAL
  visibility: hidden;

  // 5. MISCELÁNEA
  pointer-events: none;
}

.menu-movil--abierto {
  visibility: visible;
  pointer-events: auto;
}

// ─────────────────────────────────────────────────────────────────────────────
// 4.2 Overlay oscuro
// ─────────────────────────────────────────────────────────────────────────────
.menu-movil__overlay {
  // 1. POSICIONAMIENTO
  position: absolute;
  inset: 0;

  // 4. VISUAL
  background-color: rgba(0, 0, 0, 0);

  // 5. MISCELÁNEA
  transition: background-color 0.25s ease-out;
}

.menu-movil--abierto .menu-movil__overlay {
  background-color: rgba(0, 0, 0, 0.5);
}

// ─────────────────────────────────────────────────────────────────────────────
// 4.3 Contenido del menú
// ─────────────────────────────────────────────────────────────────────────────
.menu-movil__contenido {
  // 1. POSICIONAMIENTO
  position: absolute;
  top: 0;
  right: 0;

  // 2. MODELO DE CAJA
  display: flex;
  flex-direction: column;
  width: 85%;
  max-width: 20rem;
  height: 100%;
  overflow-y: auto;

  // 4. VISUAL
  background: var(--blanco-normal);
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);

  // 5. MISCELÁNEA
  transform: translateX(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.menu-movil--abierto .menu-movil__contenido {
  transform: translateX(0);
}

// ─────────────────────────────────────────────────────────────────────────────
// 4.4 Header del menú
// ─────────────────────────────────────────────────────────────────────────────
.menu-movil__header {
  // 2. MODELO DE CAJA
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.25rem 1.5rem;

  // 4. VISUAL
  background: var(--blanco-normal);
  border-bottom: 1px solid var(--blanco-dark);

  h2 {
    // 2. MODELO DE CAJA
    margin: 0;

    // 3. TIPOGRAFÍA
    font-family: var(--font-secondary);
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);

    // 4. VISUAL
    color: var(--negro-normal);
  }
}

.menu-movil__cerrar {
  // 2. MODELO DE CAJA
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;

  // 4. VISUAL
  background: transparent;
  border: none;
  border-radius: var(--radius-xss);

  // 5. MISCELÁNEA
  cursor: pointer;
  transition: transform 0.2s ease;

  &:hover {
    transform: rotate(90deg);
  }


  svg {
    width: 1.5rem;
    height: 1.5rem;
    color: var(--negro-normal);
  }
}

// ─────────────────────────────────────────────────────────────────────────────
// 4.5 Navegación móvil
// ─────────────────────────────────────────────────────────────────────────────
.menu-movil__nav {
  // 2. MODELO DE CAJA
  display: flex;
  flex-direction: column;
  flex: 1;
  padding: 1rem 0;
}

.menu-movil__link {
  // 2. MODELO DE CAJA
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.5rem;

  // 3. TIPOGRAFÍA
  font-family: var(--font-primary);
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-medium);
  text-decoration: none;

  // 4. VISUAL
  color: var(--negro-normal);
  border-left: 3px solid transparent;

  // 5. MISCELÁNEA
  transition: background-color 0.15s ease, transform 0.15s ease;

  &:hover {
    background: var(--blanco-normal-hover);
    border-left-color: var(--amarillo-normal);
    transform: translateX(0.25rem);
  }


  svg {
    width: 1.25rem;
    height: 1.25rem;
    flex-shrink: 0;
    fill: var(--amarillo-dark);
  }
}

// ─────────────────────────────────────────────────────────────────────────────
// 4.6 Botones de acción móvil
// ─────────────────────────────────────────────────────────────────────────────
.menu-movil__actions {
  // 2. MODELO DE CAJA
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-top: auto;
  padding: 1.5rem;

  // 4. VISUAL
  border-top: 1px solid var(--blanco-dark);
}

